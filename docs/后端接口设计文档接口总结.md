# 后端接口设计文档接口总结

## 一、认证相关接口

| 接口名称             | 接口路径                   | 请求方式 | 功能描述                                                         |
| -------------------- | -------------------------- | -------- | ---------------------------------------------------------------- |
| 用户登录接口         | `/api/auth/login`        | POST     | 前端提交用户名和密码，后端验证后返回JWT Token和用户基本信息      |
| 用户注册接口         | `/api/auth/register`     | POST     | 前端提交注册信息，后端验证数据后创建用户账号和个人信息           |
| 退出登录接口         | `/api/auth/logout`       | POST     | 前端提交Token，后端验证后将Token加入黑名单（如果实现黑名单机制） |
| 获取当前用户信息接口 | `/api/auth/current-user` | GET      | 前端提交Token，后端解析并验证Token后返回用户详细信息             |

## 二、主页相关接口

| 接口名称             | 接口路径                 | 请求方式 | 功能描述                                                           |
| -------------------- | ------------------------ | -------- | ------------------------------------------------------------------ |
| 获取平台统计数据接口 | `/api/home/statistics` | GET      | 前端请求平台整体统计数据，后端查询并统计后返回全局或个性化统计数据 |

## 三、讲师端接口

| 接口名称               | 接口路径                             | 请求方式 | 功能描述                                                                           |
| ---------------------- | ------------------------------------ | -------- | ---------------------------------------------------------------------------------- |
| 获取讲师授课表接口     | `/api/teacher/schedule`            | GET      | 前端请求指定时间范围内的授课表，后端验证权限后返回讲师的授课安排                   |
| 获取待评分学员列表接口 | `/api/teacher/pending-evaluations` | GET      | 前端请求待评分的学员列表，后端验证权限后返回讲师未评分的学员记录                   |
| 提交学员评分接口       | `/api/teacher/submit-evaluation`   | POST     | 前端提交评分信息，后端验证权限后更新学员的讲师评分和评语                           |
| 批量提交评分接口       | `/api/teacher/batch-evaluation`    | POST     | 前端提交多个学员的评分信息数组，后端验证权限后批量更新学员评分                     |
| 设置评分占比接口       | `/api/teacher/score-ratio`         | PUT      | 前端提交课程安排ID和新的评分占比，后端验证权限后更新该课程安排下所有学员的评分占比 |
| 获取课程成绩统计接口   | `/api/teacher/course-statistics`   | GET      | 前端请求指定课程的成绩统计信息，后端验证权限后返回课程的成绩统计数据               |
| 获取讲师授课统计接口   | `/api/teacher/teaching-statistics` | GET      | 前端请求讲师的整体授课统计信息，后端验证权限后返回讲师的授课统计数据               |

## 四、员工端接口

| 接口名称                 | 接口路径                              | 请求方式 | 功能描述                                                               |
| ------------------------ | ------------------------------------- | -------- | ---------------------------------------------------------------------- |
| 获取员工课程表接口       | `/api/employee/schedule`            | GET      | 前端请求指定时间范围内的课程表，后端验证权限后返回员工的课程安排       |
| 获取待自评课程列表接口   | `/api/employee/pending-evaluations` | GET      | 前端请求待自评的课程列表，后端验证权限后返回员工未自评的课程记录       |
| 提交课程自评接口         | `/api/employee/submit-evaluation`   | POST     | 前端提交自评信息，后端验证权限后将自评内容发送给AI接口生成分数并存储   |
| 获取员工成绩列表接口     | `/api/employee/scores`              | GET      | 前端请求成绩列表，后端验证权限后返回员工的所有课程得分                 |
| 获取课程类型成绩分析接口 | `/api/employee/course-type-scores`  | GET      | 前端请求课程类型维度的成绩分析，后端验证权限后返回每个课程类型的平均分 |
| 获取员工学习进度接口     | `/api/employee/learning-progress`   | GET      | 前端请求学习进度信息，后端验证权限后返回员工的学习进度和统计数据       |

## 五、课程大纲制定者端接口

| 接口名称               | 接口路径                                             | 请求方式 | 功能描述                                                         |
| ---------------------- | ---------------------------------------------------- | -------- | ---------------------------------------------------------------- |
| 获取培训计划列表接口   | `/api/planner/plans`                               | GET      | 前端请求培训计划列表，后端验证权限后返回所有培训计划及统计信息   |
| 创建培训计划接口       | `/api/planner/plans`                               | POST     | 前端提交培训计划信息，后端验证权限后创建新的培训计划             |
| 修改培训计划接口       | `/api/planner/plans/:planId`                       | PUT      | 前端提交修改的培训计划信息，后端验证权限后更新培训计划信息       |
| 删除培训计划接口       | `/api/planner/plans/:planId`                       | DELETE   | 前端提交要删除的计划ID，后端验证权限后删除培训计划               |
| 获取培训计划详情接口   | `/api/planner/plans/:planId`                       | GET      | 前端请求指定计划的详细信息，后端验证权限后返回培训计划的完整信息 |
| 为培训计划添加员工接口 | `/api/planner/plans/:planId/employees`             | POST     | 前端提交计划ID和员工ID列表，后端验证权限后为培训计划添加员工     |
| 从培训计划移除员工接口 | `/api/planner/plans/:planId/employees/:employeeId` | DELETE   | 前端提交计划ID和员工ID，后端验证权限后从培训计划移除员工         |
| 获取课程列表接口       | `/api/planner/courses`                             | GET      | 前端请求课程列表，后端验证权限后返回所有课程及统计信息           |
| 创建课程接口           | `/api/planner/courses`                             | POST     | 前端提交课程信息，后端验证权限后创建新的课程                     |
| 修改课程接口           | `/api/planner/courses/:courseId`                   | PUT      | 前端提交修改的课程信息，后端验证权限后更新课程信息               |
| 删除课程接口           | `/api/planner/courses/:courseId`                   | DELETE   | 前端提交要删除的课程ID，后端验证权限后删除课程                   |
| 获取课程安排列表接口   | `/api/planner/course-items`                        | GET      | 前端请求课程安排列表，后端验证权限后返回所有课程安排及统计信息   |
| 创建课程安排接口       | `/api/planner/course-items`                        | POST     | 前端提交课程安排信息，后端验证权限后创建新的课程安排             |
| 修改课程安排接口       | `/api/planner/course-items/:itemId`                | PUT      | 前端提交修改的课程安排信息，后端验证权限后更新课程安排信息       |
| 删除课程安排接口       | `/api/planner/course-items/:itemId`                | DELETE   | 前端提交要删除的课程安排ID，后端验证权限后删除课程安排           |
| 获取平台数据分析接口   | `/api/planner/analytics`                           | GET      | 前端请求平台整体数据分析，后端验证权限后返回综合数据分析结果     |
| 获取员工成绩详情接口   | `/api/planner/employees/:employeeId/scores`        | GET      | 前端请求指定员工的成绩详情，后端验证权限后返回员工的成绩完整信息 |
| 获取课程评价详情接口   | `/api/planner/courses/:courseId/evaluations`       | GET      | 前端请求指定课程的评价详情，后端验证权限后返回课程的评价完整信息 |
